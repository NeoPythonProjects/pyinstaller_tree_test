#:kivy 2.1.0

<WelcomeScreen>:
    canvas.before:
        Color:
            rgba: (0.5, 0.5, 0.5 ,1)
        Rectangle:
            pos: self.pos
            size: self.size
    GridLayout:
        cols: 1
        padding: 20,5
        BoxLayout:
            padding: 20, 5
            spacing: 5
            orientation: 'horizontal'
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: 'img 1_1: hardcoded in kv file'
                Image:
                    id: img11
                    source: 'level1/img1_1.png'
                MyButton:
                    id: btn_img11
                    text: 'test hardcoded path/to/source passed from kv to py'
                    on_release: self.action(root.ids.img11.source)
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: 'text file on level1/level2'
                Label:
                    canvas.before:
                        Color:
                            rgba: 0.75, 0.75, 0.75, 1
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    text: root.text_file
        GridLayout:
            cols: 2
            padding: 20,5
            spacing: 20
            BoxLayout:
                orientation: 'vertical'
                spacing: 10
                Label:
                    text: 'img 2_1: hardcoded in kv file'
                Image:
                    id: img21
                    source: 'level1/level2/img2_1.png'
                MyButton:
                    id: btn_img21
                    text: 'test hardcoded path/to/source passed from kv to py'
                    on_release: self.action(root.ids.img21.source)
            BoxLayout:
                orientation: 'vertical'
                spacing: 10
                Label:
                    text: 'img 2_2: hardcoded in kv file'
                Image:
                    id: img22
                    source: 'level1/level2/img2_2.png'
                MyButton:
                    id: btn_img22
                    text: 'test hardcoded path/to/source passed from kv to py'
                    on_release: self.action(root.ids.img22.source)

<PictureScreen>:
    name: 'picture_screen'
    GridLayout:
        cols: 1
        padding: 20, 5
        Image:
            id: img_screen
            source: root.img_source
        Button:
            size_hint_y: 0.1
            text: 'go back'
#            on_release: app.root.ids.sm.current= 'welcome_screen'
            on_release: root.switch_back()



# Root
BoxLayout:
    orientation: 'vertical'
    Label:
        size_hint_y: 0.1
        text: 'PyInstaller Tree test app'
    MyScreenManager:
        id: sm
        WelcomeScreen:
            id: welcome_screen
            name: 'welcome_screen'
# Don't include the PictureScreen here. Load it while
# passing a variable to it in py file
#        PictureScreen:
#            name: 'picture_screen'
